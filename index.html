<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contract Interaction</title>
    <script src="https://cdn.jsdelivr.net/npm/thirdweb@latest/dist/thirdweb.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        input, button {
            margin: 10px 0;
        }
        .error {
            color: red;
        }
    </style>
</head>
<body>

    <h1>Contract Interaction</h1>

    <div>
        <h2>Invest</h2>
        <input type="text" id="referrer" placeholder="Referrer Address" />
        <button onclick="invest()">Invest</button>
    </div>

    <div>
        <h2>Withdraw</h2>
        <button onclick="withdraw()">Withdraw</button>
    </div>

    <p id="transactionHash"></p>
    <p id="error" class="error"></p>

    <script>
        const contractAddress = 'YOUR_CONTRACT_ADDRESS'; // Replace with your contract address
        const account = 'YOUR_ACCOUNT_ADDRESS'; // Replace with the user's account address

        const { createThirdwebClient } = window.thirdweb;
        const client = createThirdwebClient({ clientId: 'aa83552f8db8c2d86a9c06a13e113b0e' }); // Replace with your client ID

        const contract = client.getContract(contractAddress);

        async function invest() {
            const referrer = document.getElementById('referrer').value;
            try {
                const transaction = await contract.call("invest", referrer);
                const transactionHash = transaction.hash;
                document.getElementById('transactionHash').innerText = "Transaction sent! Hash: " + transactionHash;
            } catch (error) {
                console.error("Investment transaction failed:", error);
                document.getElementById('error').innerText = "Investment transaction failed: " + error.message;
            }
        }

        async function withdraw() {
            try {
                const transaction = await contract.call("withdraw");
                const transactionHash = transaction.hash;
                document.getElementById('transactionHash').innerText = "Transaction sent! Hash: " + transactionHash;
            } catch (error) {
                console.error("Withdrawal transaction failed:", error);
                document.getElementById('error').innerText = "Withdrawal transaction failed: " + error.message;
            }
        }
    </script>

</body>
</html>
