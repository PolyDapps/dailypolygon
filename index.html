<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wallet Connect Test</title>
  <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.6.0/dist/umd/index.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.9.0/web3.min.js"></script>
</head>
<body>
  <button onclick="connect()">Connect Wallet</button>

  <script type="text/javascript">
    let provider;

    const connect = async () => {
      try {
        // Initialize the provider
        provider = new WalletConnectProvider({
          rpc: {
            1: "https://polygon-mainnet.infura.io/v3/ee5a337fe17e4c87839b94a7d6804b13", // Mainnet
            137: "https://rpc-mainnet.maticvigil.com/", // Polygon
          },
        });

        await provider.enable(); // Enable provider
        const web3 = new Web3(provider);
        const accounts = await web3.eth.getAccounts();
        console.log("Connected account:", accounts[0]);
      } catch (error) {
        console.error("Connection failed:", error);
      }
    };
  </script>
</body>
</html>
